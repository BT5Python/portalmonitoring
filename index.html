<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>TERMINAL — MONITORING</title>

<style>

/* —————————————————————————— */
/*  HACKER CORE STYLE          */
/* —————————————————————————— */

@import url('https://fonts.googleapis.com/css2?family=Share+Tech+Mono&display=swap');

:root {
  --hack: #00ff00;
  --black: #000000;
}

body {
  margin: 0;
  padding: 0;
  background: #000;
  color: var(--hack);
  font-family: 'Share Tech Mono', monospace;
  font-size: 15px;
  letter-spacing: 1px;
  overflow: hidden;
  user-select: none;
}

/* CRT Effect */
body:before {
  content: "";
  position: fixed;
  top:0; left:0; width:100%; height:100%;
  background: repeating-linear-gradient(
    rgba(0,255,0,0.05) 0px,
    rgba(0,255,0,0.05) 1px,
    rgba(0,0,0,0.05) 2px
  );
  pointer-events:none;
  mix-blend-mode: multiply;
  animation: flicker 0.15s infinite;
}

@keyframes flicker {
  0% { opacity: .8; }
  50% { opacity: .6; }
  100% { opacity: .8; }
}

/* Terminal cursor */
.cursor {
  display: inline-block;
  width: 10px;
  height: 16px;
  background: var(--hack);
  animation: blink 0.6s infinite;
}

@keyframes blink {
  0%, 49% { opacity: 1; }
  50%, 100% { opacity: 0; }
}

/* Typewriter area */
#console {
  height: 100vh;
  padding: 20px;
  white-space: pre-line;
  overflow-y: auto;
  line-height: 1.4;
}

/* GLITCH NOISE */
.noise {
  position: fixed;
  width:100%;
  height:100%;
  top:0;
  left:0;
  z-index:9999;
  mix-blend-mode: screen;
  pointer-events:none;
}
.noise:after {
  content:"";
  position:absolute;
  width:100%;
  height:100%;
  background:
    url('https://media.giphy.com/media/oEI9uBYSzLpBK/giphy.gif')
    center center / cover no-repeat;
  opacity:0.07;
}

</style>

</head>
<body>

<div id="console"></div>
<div class="cursor"></div>
<div class="noise"></div>


<!-- FIREBASE -->
<script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-database.js"></script>

<script>
/* —————————————————————————— */
/* FIREBASE CONFIG — GANTI PUNYA KAMU */
/* —————————————————————————— */
const firebaseConfig = {
  apiKey: "AIzaSyB8EXAMPLE123ABCxyz",
  authDomain: "project-xxx.firebaseapp.com",
  databaseURL: "https://project-xxx-default-rtdb.firebaseio.com",
  projectId: "project-xxx",
  storageBucket: "project-xxx.appspot.com",
  messagingSenderId: "938653682692",
  appId: "1:938653682692:web:ab8293cf0ecbeb48afd720"
};
firebase.initializeApp(firebaseConfig);
</script>


<script>

/* —————————————————————————— */
/* TYPEWRITER BOOT SEQUENCE   */
/* —————————————————————————— */

const lines = [
  "> INITIALIZING TERMINAL ENGINE...",
  "> CONNECTING TO FIREBASE REALTIME DATABASE...",
  "> AUTH CHECK — OK",
  "> LOADING MONITORING SYSTEM [███████████████]",
  "> RADAR ONLINE",
  "> SYSTEM STATUS: READY",
  "",
  ">> LISTENING FOR ACTIVE WEB CLIENTS...",
  ""
];

let i = 0;
let speed = 60;

function typeLine() {
  if(i < lines.length) {
    let div = document.getElementById("console");
    div.innerHTML += lines[i] + "\n";
    i++;
    setTimeout(typeLine, speed);
  }
}


/* —————————————————————————— */
/* REALTIME ACTIVE PAGES LISTENER */
/* —————————————————————————— */

const db = firebase.database().ref("activePages");

db.on("value", snap => {
  const pages = snap.val();
  if(!pages) return;

  Object.keys(pages).forEach(key => {
    logStatus(key, pages[key]);
  });
});

function logStatus(name, status){
  let div = document.getElementById("console");
  
  let time = new Date().toLocaleTimeString("id-ID");

  let msg = status
    ? `[${time}] SIGNAL DETECTED — ${name} ONLINE`
    : `[${time}] DISCONNECTED — ${name} OFFLINE`;

  div.innerHTML += msg + "\n";
  div.scrollTop = div.scrollHeight;
}


/* —————————————————————————— */
/* STARTUP */
/* —————————————————————————— */

window.onload = typeLine;

</script>

</body>
</html>
